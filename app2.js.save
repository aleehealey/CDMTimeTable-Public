const http = require('http');
const fs = require('./serverUtility/fileSystem');


// const hostname = '127.0.0.1';
const port = 3001;


// console.log('hello!');

const options = {
    key: fs.readBackSync('key.key'),
    cert: fs.readBackSync('certificate.crt')
    // ca: fs.readBackSync('gd_bundle-g2-g1.crt')
};

// console.log(fs.readBackSync('privateKey.key') + " \n \n " + fs.readBackSync('certificate.
process.env["NODE_TLS_REJECT_UNAUTHORIZED"] = 0;


var app = https.createServer(options, function (mainRequest, mainResponse) {
    mainResponse.end('YOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO FUCKING FINALLY!');
});
    
    var req = https.request({
        hostname: '127.0.0.1',
        port: 3001,
        path: '/create',
        method: 'POST'
    }, function(res){
        res.on('data',function(data){
            console.log(data);
        });
    });
    req.on('error', error => {
        console.error("Error")
        console.error(error)
    })
    req.end();

app.listen(port, () => {
 	console.log('https');
	console.log('server running');
======
var app = http.createServer(function (mainRequest, mainResponse) {
    mainResponse.end('YOOOOO it worked! Oh and Hello world!');
    
});
    

app.listen(port, () => {
    console.log('http');
    console.log('server running');
>>>>>>> f3484778f7cb82db2ae62c7374a5c98cc9bd20da
});
